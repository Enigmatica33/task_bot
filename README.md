# Task_bot

## Описание

Сервис для управления задачами ToDo List. 


## Развертывание через Docker Compose

### 1. Клонируем репозиторий, переходим в рабочую папку task_bot

```
git clone git@github.com:Enigmatica33/task_bot.git
cd task_bot
```

### 2. Настройка переменных окружения

Создайте файл `.env` в корневой директории проекта. Пример содержимого находится в файле env.example:


### 3. Запуск системы

```
# Запуск сервиса
docker compose up -d

# Просмотр логов
docker compose logs -f

# Остановка сервиса
docker compose down
```

### 4. Доступ к сервисам:

- **Админ-панель Django**: http://127.1.0.0:8000/admin
- **API**: http://127.1.0.0:8000/api

## Архитектура системы

### Сервисы Docker Compose

- **postgres_db**: Система управления базами данных, используемая для постоянного хранения всех данных: пользователей, задач, категорий.

- **backend_task**: Ядро системы. Управляет данными и предоставляет REST API для взаимодействия с внешними клиентами.
  - Автоперезапуск: unless-stopped
  - Зависимость: postgres (healthy)

- **task_bot**: Телеграм-бот, реализованный на Python с использованием библиотек aiogram и aiogram-dialog. Он взаимодействует с пользователем, принимает его команды и обменивается данными с бэкендом через REST API.

- **celery_worker**: Сервис для выполнения фоновых задач. В данном проекте его основная роль — периодически проверять задачи, у которых наступает срок выполнения, и инициировать отправку уведомлений пользователям в Telegram.

- **redis_broker**: Брокер сообщений для Celery - организует очередь задач для асинхронной отправки уведомлений.


### Сетевая конфигурация

- Изолированная сеть: `task_network`
- Тип сети: bridge
- Внутренние имена хостов совпадают с именами сервисов

### Volumes

- `postgres_data`: постоянное хранение данных PostgreSQL
- `redis_data`: хранилище очереди задач


## Tech Stack
- **Python 3.12+**
- **Django 6.0**
- **SQLAlchemy 2.0.43**
- **DjangoRestFramework 3.16.1**
- **PostgreSQL**
- **Aiogram**
- **Redis**
- **Celery**
